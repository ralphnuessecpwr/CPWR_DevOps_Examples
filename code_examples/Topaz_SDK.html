<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Topaz SDK | Mainframe DevOps</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/CPWR_DevOps_Examples/assets/css/0.styles.38688a71.css" as="style"><link rel="preload" href="/CPWR_DevOps_Examples/assets/js/app.75a8ec7a.js" as="script"><link rel="preload" href="/CPWR_DevOps_Examples/assets/js/18.a8b355c3.js" as="script"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/10.4dc795ba.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/11.5935f050.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/12.0e2b9aca.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/13.78ae9647.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/14.a029e60a.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/15.ffe0034a.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/16.b348e724.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/17.ebd3ec0b.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/19.46164589.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/2.da451cf3.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/20.da3c9874.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/21.461a1ac0.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/22.7e875135.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/23.f7fea76c.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/24.ae7c84bf.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/25.475d2aec.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/26.5e15d442.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/27.270e41aa.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/28.206d73f5.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/29.e41f7579.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/3.2a4c636b.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/30.61d12a91.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/31.e2654db9.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/32.be1c41d7.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/33.0efeaca3.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/34.1b4a3f7e.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/35.da69e6e8.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/36.fed52b27.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/37.c121f4e9.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/38.99baad0c.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/39.3dd6385d.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/4.4c65f11a.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/5.f5c5d1fb.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/6.9143e1f5.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/7.3a9c137b.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/8.f2dc9578.js"><link rel="prefetch" href="/CPWR_DevOps_Examples/assets/js/9.e743477c.js">
    <link rel="stylesheet" href="/CPWR_DevOps_Examples/assets/css/0.styles.38688a71.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/CPWR_DevOps_Examples/" class="home-link router-link-active"><img src="/CPWR_DevOps_Examples/compuware.png" alt="Mainframe DevOps" class="logo"> <span class="site-name can-hide">Mainframe DevOps</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/CPWR_DevOps_Examples/" class="nav-link">Home</a></div><div class="nav-item"><a href="/CPWR_DevOps_Examples/pipelines/" class="nav-link">Pipelines</a></div><div class="nav-item"><a href="/CPWR_DevOps_Examples/tool_configuration/" class="nav-link">Configuration</a></div><div class="nav-item"><a href="/CPWR_DevOps_Examples/code_examples/" class="nav-link router-link-active">APIs</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/CPWR_DevOps_Examples/" class="nav-link">Home</a></div><div class="nav-item"><a href="/CPWR_DevOps_Examples/pipelines/" class="nav-link">Pipelines</a></div><div class="nav-item"><a href="/CPWR_DevOps_Examples/tool_configuration/" class="nav-link">Configuration</a></div><div class="nav-item"><a href="/CPWR_DevOps_Examples/code_examples/" class="nav-link router-link-active">APIs</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/CPWR_DevOps_Examples/code_examples/" class="sidebar-link">API, SDK and CLI</a></li><li><a href="/CPWR_DevOps_Examples/code_examples/Rest_api.html" class="sidebar-link">REST APIs</a></li><li><a href="/CPWR_DevOps_Examples/code_examples/Topaz_cli.html" class="sidebar-link">Topaz CLI</a></li><li><a href="/CPWR_DevOps_Examples/code_examples/Topaz_SDK.html" class="active sidebar-link">Topaz SDK</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/CPWR_DevOps_Examples/code_examples/Topaz_SDK.html#dataset-api" class="sidebar-link">Dataset API</a></li><li class="sidebar-sub-header"><a href="/CPWR_DevOps_Examples/code_examples/Topaz_SDK.html#api-examples" class="sidebar-link">API Examples</a></li><li class="sidebar-sub-header"><a href="/CPWR_DevOps_Examples/code_examples/Topaz_SDK.html#passticket-extension" class="sidebar-link">PassTicket Extension</a></li><li class="sidebar-sub-header"><a href="/CPWR_DevOps_Examples/code_examples/Topaz_SDK.html#developing-for-the-host-services-api" class="sidebar-link">Developing for the Host Services API</a></li><li class="sidebar-sub-header"><a href="/CPWR_DevOps_Examples/code_examples/Topaz_SDK.html#example-launcher-view" class="sidebar-link">Example Launcher View</a></li><li class="sidebar-sub-header"><a href="/CPWR_DevOps_Examples/code_examples/Topaz_SDK.html#examples-template" class="sidebar-link">Examples Template</a></li><li class="sidebar-sub-header"><a href="/CPWR_DevOps_Examples/code_examples/Topaz_SDK.html#running" class="sidebar-link">Running</a></li><li class="sidebar-sub-header"><a href="/CPWR_DevOps_Examples/code_examples/Topaz_SDK.html#troubleshooting" class="sidebar-link">Troubleshooting</a></li><li class="sidebar-sub-header"><a href="/CPWR_DevOps_Examples/code_examples/Topaz_SDK.html#packaging" class="sidebar-link">Packaging</a></li><li class="sidebar-sub-header"><a href="/CPWR_DevOps_Examples/code_examples/Topaz_SDK.html#add-the-host-services-api-as-a-dependency" class="sidebar-link">Add the Host Services API as a Dependency</a></li><li class="sidebar-sub-header"><a href="/CPWR_DevOps_Examples/code_examples/Topaz_SDK.html#create-a-feature" class="sidebar-link">Create a Feature</a></li><li class="sidebar-sub-header"><a href="/CPWR_DevOps_Examples/code_examples/Topaz_SDK.html#export-the-feature-in-a-p2-repository" class="sidebar-link">Export the Feature in a p2 Repository</a></li></ul></li><li><a href="/CPWR_DevOps_Examples/code_examples/Passticket.html" class="sidebar-link">Developing A PassTicket Extension</a></li><li><a href="/CPWR_DevOps_Examples/code_examples/Topaz_SDK_snippets.html" class="sidebar-link">Topaz SDK Code Snippets</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="overview"><a href="#overview" aria-hidden="true" class="header-anchor">#</a> Overview</h1> <p>The Compuware Host Services SDK includes the Compuware Host Services API as well as developer resources such as examples, an examples template, a PassTicket Extension template, code snippets, and Javadoc. The Compuware Host Services API provides users with methods to programmatically access and perform operations on datasets and perform JES operations, as well as launch and communicate with their own z/OS programs. The PassTicket Extension template provides a starter Plug-in project for users to provide an implementation of PassTicket authentication to z/OS.</p> <h2 id="dataset-api"><a href="#dataset-api" aria-hidden="true" class="header-anchor">#</a> Dataset API</h2> <p>The Compuware Host Services API provides users with methods to programmatically access and perform actions on datasets. These API’s do not provide the capability to manipulate the Topaz Workbench UI.</p> <p>The following dataset types are supported:</p> <ul><li>Sequential</li> <li>Partitioned</li> <li>VSAM</li></ul> <p>The following actions are provided regarding datasets:</p> <ul><li>Allocate a partitioned or sequential dataset</li> <li>Create or delete a PDS member</li> <li>Obtain dataset and PDS member objects by name/pattern and type</li> <li>Read the content of a sequential dataset or a PDS member</li> <li>Write content to a sequential dataset or a PDS member</li> <li>Obtain the characteristics of a dataset or the statistics of a PDS member</li> <li>Recall a migrated dataset</li></ul> <h3 id="jes-api"><a href="#jes-api" aria-hidden="true" class="header-anchor">#</a> JES API</h3> <p>The Compuware Host Services API provides users with methods to programmatically perform JES actions.</p> <p>The following actions are provided regarding JES:</p> <ul><li>Submit JCL</li> <li>Track a job’s status</li></ul> <h3 id="z-os-user-program-api"><a href="#z-os-user-program-api" aria-hidden="true" class="header-anchor">#</a> z/OS User Program API</h3> <p>The Compuware Host Services API provides users with methods to programmatically launch and communicate with their own z/OS programs.</p> <p>The following actions are provided regarding z/OS user programs:</p> <ul><li>Launch a z/OS user program</li> <li>Write/read user-defined data to/from the z/OS user program</li> <li>Be notified of when the z/OS user program has ended</li></ul> <h2 id="api-examples"><a href="#api-examples" aria-hidden="true" class="header-anchor">#</a> API Examples</h2> <p>The Compuware Host Services API provides users with examples to not only verify API functionality on a given host, but to assist developers with using the Compuware Host Services API in their own programs.</p> <p>The following are provided regarding API examples:</p> <ul><li>Example Launcher View - A view from which a set of API examples can be launched by users</li> <li>Examples Template - A template that can be used to view the source of the examples provided in the Example Launcher view</li> <li>Code Snippets - Snippets that can be viewed to see how the Compuware Host Services API can be used to perform a certain action</li></ul> <p>For more information regarding the API examples, see the “Developing for the Host Services API” section.</p> <h2 id="passticket-extension"><a href="#passticket-extension" aria-hidden="true" class="header-anchor">#</a> PassTicket Extension</h2> <p>Topaz Workbench provides an Eclipse extension which can be used to authenticate users to z/OS via a passticket. A passticket is a single use token which can be used in place of a password when authenticating to z/OS. It order to use passtickets securely the user id must have been pre-authenticated. The implementation of the PassTicket extension is responsible for two items, first an authenticated user id and second a generated passticket which can be used in place of a password. These two responsibilities are satisfied by the implementation of two interfaces, IPassTicketUserProvider and IPassTicketGenerator. The SDK provides a template project to assist the user.</p> <h2 id="developing-for-the-host-services-api"><a href="#developing-for-the-host-services-api" aria-hidden="true" class="header-anchor">#</a> Developing for the Host Services API</h2> <p>The following topics are designed to help developers write their own programs using the Compuware Host Services SDK. For Javadoc, see the “Compuware Host Services API Specification” section.</p> <h2 id="example-launcher-view"><a href="#example-launcher-view" aria-hidden="true" class="header-anchor">#</a> Example Launcher View</h2> <p>The Compuware Host Services SDK provides an Example Launcher view with a set of API examples that can be launched by users. The Example Launcher view can be used to verify that the Compuware Host Services API is functioning correctly on a given host. A description of an example is provided within the Example Launcher view when the example is selected.</p> <p>The following set of API examples is provided within the Example Launcher view:</p> <ul><li><p>Hosts</p> <ul><li>List Hosts</li> <li>Connect Using Credentials</li> <li>Connect Using UI User Credentials</li></ul></li> <li><p>Datasets</p> <ul><li>Allocate a Dataset</li> <li>Allocate a Dataset Like Another Dataset</li> <li>Find a Single Dataset</li> <li>Find Multiple Datasets</li> <li>Fetch Dataset Characteristics</li> <li>Read a Sequential Dataset</li> <li>Write to a Sequential Dataset</li></ul></li> <li><p>Members</p> <ul><li>Create a PDS Member Using a Command Provider</li> <li>Create a PDS Member Using a Dataset</li> <li>Delete a PDS Member Using a Command Provider</li> <li>Delete a PDS Member Using a Dataset</li> <li>Find a Single Member Using a Command Provider</li> <li>Find a Single Member Using a Dataset</li> <li>Find Multiple Members Using a Command Provider</li> <li>Find Multiple Members Using a Dataset</li> <li>Fetch Member Statistics</li> <li>Read a Member</li> <li>Write to a Member</li></ul></li> <li><p>JES</p> <ul><li>Submit a Job</li> <li>Get a Job’s Status</li></ul></li> <li><p>User Programs</p> <ul><li>Hello Mainframe</li> <li>Termination Listener</li></ul></li></ul> <p>In order to run one of the API examples listed above, either double-click on the example or select the example and click the <strong>Run</strong> button. Follow the prompts to complete execution of the example.</p> <h2 id="examples-template"><a href="#examples-template" aria-hidden="true" class="header-anchor">#</a> Examples Template</h2> <p>The Examples Template can be used to add a custom set of the Compuware Host Services SDK examples to the Example Launcher view. Using the template, a plug-in project will be created that contains the source for each Compuware Host Services SDK example. The source can be modified for testing custom functionality or simply viewed for learning purposes.</p> <p>To create a plug-in project using the Examples Template, follow these steps:</p> <ol><li>Open the <code>Plug-in Development</code> perspective by selecting <code>Window</code>-&gt;<code>Open Perspective</code>-&gt;<code>Other...</code> and selecting <code>Plug-in Development</code> in the <code>Open Perspective</code> dialog.</li> <li>Select <code>File</code>-&gt;<code>New</code>-&gt;<code>Plug-in Project</code> from the main menu of the Topaz Workbench, Eclipse, or RDz.</li> <li>Give your project a name and then select the <code>Next &gt;</code> button.</li> <li>On the next page, make sure <code>No</code> is selected for the <code>Would you like to create a rich client application</code> field. Select <code>Next &gt;</code>.</li> <li>On the next page, select <code>Plug-in with Compuware Host Services API examples</code> and then select <code>Finish</code>.</li></ol> <p>To run a custom plug-in that uses the Examples Template from within a development environment (Topaz Workbench, Eclipse, or RDz), follow these steps:</p> <ol><li>Open the <code>Debug</code> perspective within the development environment.</li> <li>Create a launch configuration. 1.Select <code>Run</code>-&gt;<code>Run Configurations...</code> from the main menu of the development environment (if you would like to run the custom plug-in in debug mode, select <code>Run</code>-&gt;<code>Debug Configurations...</code> instead).</li> <li>Select <code>Eclipse Application</code> from the tree on the left of the Run Configurations dialog (Debug Configurations dialog if you are running in debug mode) and then select the “New launch configuration” button from the toolbar along the top of the tree (the left-most button).</li> <li>Select the <code>Plug-ins</code> tab and make sure that <code>all workspace and enabled target plug-ins</code> is selected in the <code>Launch with</code> field.</li> <li>Select the <code>Main</code> tab and make sure that the Java Runtime Environment is utilizing a Java 8 compatible JRE (either a JavaSE-1.8 execution environment or Java 1.8 compatible JRE).</li> <li>Once the launch configuration has been created, select the <code>Run</code> button (<code>Debug</code> button if in debug mode) to launch an application with the custom plug-in.</li></ol> <p>::: Tip
Within the application with the custom plug-in has been launched, the Example Launcher view will show both the “Host Services API” node as well as the corresponding node from the custom plug-in.</p> <p>While the examples under the “Host Services API” node will remain static, the examples under the node from the custom plug-in will reflect any changes made to the examples within the custom plug-in.
:::</p> <h2 id="running"><a href="#running" aria-hidden="true" class="header-anchor">#</a> Running</h2> <p>To run a custom plug-in that uses the Compuware Host Services SDK from within a development environment (Topaz Workbench, Eclipse, or RDz), follow these steps:</p> <ol><li>Open the “Debug” perspective within the development environment.</li> <li>Create a launch configuration. 1.Select “Run-&gt;Run Configurations...” from the main menu of the development environment (if you would like to run the custom plug-in in debug mode, select “Run-&gt;Debug Configurations...” instead).
<ol><li>Select “Eclipse Application” from the tree on the left of the Run Configurations dialog (Debug Configurations dialog if you are running in debug mode) and then select the “New launch configuration” button from the toolbar along the top of the tree (the left-most button).</li> <li>Select the “Plug-ins” tab and make sure that “all workspace and enabled target plug-ins” is selected in the “Launch with” field.</li> <li>Select the “Main” tab and make sure that the Java Runtime Environment is utilizing a Java 8 compatible JRE (either a JavaSE-1.8 execution environment or Java 1.8 compatible JRE).</li></ol></li> <li>Once the launch configuration has been created, select the “Run” button (“Debug” button if in debug mode) to launch an application with the custom plug-in.</li></ol> <h2 id="troubleshooting"><a href="#troubleshooting" aria-hidden="true" class="header-anchor">#</a> Troubleshooting</h2> <p>Developers have multiple ways of troubleshooting any issues that may arise while developing with the Compuware Host Services SDK.</p> <table><thead><tr><th>Area</th> <th>Troubleshooting</th></tr></thead> <tbody><tr><td>Dataset and JES APIs</td> <td>All methods that are part of the Dataset and JES APIs will throw specific exceptions when an error condition occurs. The exception thrown will contain the details necessary for a developer to diagnose the issue and determine how to proceed.</td></tr> <tr><td>z/OS User Program API</td> <td>In the same manner as the Dataset and JES APIs, all methods that are part of the z/OS User Program API will throw exceptions when an error condition occurs.</td></tr> <tr><td>Logging</td> <td>In order for users to diagnose issues that may arise within their own z/OS program, users can provide an IHostServicesAPILogger via the IZOSUserProgramConnection.setLogger method. Trace statements will be sent to the specified logger that will contain the data sent to the z/OS user program as well as the data received from the z/OS user program. The location of the log output is determined from the parameters of the HostServicesAPI.getLogger methods.</td></tr></tbody></table> <h2 id="packaging"><a href="#packaging" aria-hidden="true" class="header-anchor">#</a> Packaging</h2> <p>Developers must package their custom plug-ins so they can be distributed for installation and use.</p> <h2 id="add-the-host-services-api-as-a-dependency"><a href="#add-the-host-services-api-as-a-dependency" aria-hidden="true" class="header-anchor">#</a> Add the Host Services API as a Dependency</h2> <p>Developers must include the Host Services API as a dependency of any custom plug-in they create that uses the Host Services API. This can be done in two different ways within a plug-in’s MANIFEST.MF file:</p> <ol><li>Open the plugin.xml file using the Plug-in Manifest Editor.</li> <li>On the “Dependencies” tab of the editor, do one of the following:
<ul><li>Add the entire com.compuware.api.hostservices bundle to the list of required bundles</li> <li>Add the specific packages of the com.compuware.api.hostservices bundle that are used by the custom plug-in to the list of imported packages</li></ul></li></ol> <h2 id="create-a-feature"><a href="#create-a-feature" aria-hidden="true" class="header-anchor">#</a> Create a Feature</h2> <p>Developers must create a custom feature so that their custom plug-in can be included in a p2 repository for installation by users. A feature can be created from the File-&gt;New menu within the Topaz Workbench, Eclipse, or RDz.</p> <p>Once the custom feature is created:</p> <ol><li>Open the feature.xml file using the Feature Manifest Editor.</li> <li>On the “Plug-ins” tab of the editor, add the following:
<ol><li>The custom plug-in</li> <li>The com.compuware.api.hostservices plug-in</li> <li>Any other plug-ins or fragments that the custom plug-in requires</li></ol></li></ol> <h2 id="export-the-feature-in-a-p2-repository"><a href="#export-the-feature-in-a-p2-repository" aria-hidden="true" class="header-anchor">#</a> Export the Feature in a p2 Repository</h2> <p>Lastly, developers must create a p2 repository that users can point to for installation of the developer’s custom feature. A p2 repository can be created in two different ways:</p> <ol><li>On the <code>Overview</code> tab of the Feature Manifest Editor, click the <code>Export Wizard</code> link under the <code>Exporting</code> section</li> <li>Use the File-&gt;Export... menu and choose <code>Deployable features</code> under the <code>Plug-in Development</code> category</li></ol> <p>On the <code>Deployable features</code> dialog, check the custom feature from the list of features and define the directory to which the p2 repository will be exported to. You can export the p2 repository as either a directory or an archive.</p> <p>Once the p2 repository has been exported, it should be deployed so that all users can point to it and install the custom feature from it.</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/CPWR_DevOps_Examples/code_examples/Topaz_cli.html" class="prev">
          Topaz CLI
        </a></span> <span class="next"><a href="/CPWR_DevOps_Examples/code_examples/Passticket.html">
          Developing A PassTicket Extension
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/CPWR_DevOps_Examples/assets/js/app.75a8ec7a.js" defer></script><script src="/CPWR_DevOps_Examples/assets/js/18.a8b355c3.js" defer></script>
  </body>
</html>
