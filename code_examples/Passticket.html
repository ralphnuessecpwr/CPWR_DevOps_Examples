<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Developing A PassTicket Extension | Mainframe DevOps</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/css/0.styles.c8537b01.css" as="style"><link rel="preload" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/app.ec1696b9.js" as="script"><link rel="preload" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/16.b348e724.js" as="script"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/10.4dc795ba.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/11.5935f050.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/12.0e2b9aca.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/13.78ae9647.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/14.a029e60a.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/15.ffe0034a.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/17.ebd3ec0b.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/18.a8b355c3.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/19.46164589.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/2.da451cf3.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/20.da3c9874.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/21.461a1ac0.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/22.7e875135.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/23.f7fea76c.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/24.ae7c84bf.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/25.475d2aec.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/26.5e15d442.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/27.270e41aa.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/28.206d73f5.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/29.e41f7579.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/3.2a4c636b.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/30.61d12a91.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/31.e2654db9.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/32.be1c41d7.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/33.0efeaca3.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/34.1b4a3f7e.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/35.da69e6e8.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/36.fed52b27.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/37.c121f4e9.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/38.99baad0c.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/39.3dd6385d.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/4.4c65f11a.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/5.f5c5d1fb.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/6.9143e1f5.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/7.3a9c137b.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/8.f2dc9578.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/9.e743477c.js">
    <link rel="stylesheet" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/css/0.styles.c8537b01.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/" class="home-link router-link-active"><img src="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/compuware.png" alt="Mainframe DevOps" class="logo"> <span class="site-name can-hide">Mainframe DevOps</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/" class="nav-link">Home</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/pipelines/" class="nav-link">Pipelines</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/tool_configuration/" class="nav-link">Configuration</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/code_examples/" class="nav-link router-link-active">APIs</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/" class="nav-link">Home</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/pipelines/" class="nav-link">Pipelines</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/tool_configuration/" class="nav-link">Configuration</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/code_examples/" class="nav-link router-link-active">APIs</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/code_examples/" class="sidebar-link">API, SDK and CLI</a></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/code_examples/Rest_api.html" class="sidebar-link">REST APIs</a></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/code_examples/Topaz_cli.html" class="sidebar-link">Topaz CLI</a></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/code_examples/Topaz_SDK.html" class="sidebar-link">Topaz SDK</a></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/code_examples/Passticket.html" class="active sidebar-link">Developing A PassTicket Extension</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/code_examples/Passticket.html#creating-your-passticket-extension-project" class="sidebar-link">Creating your PassTicket Extension Project</a></li><li class="sidebar-sub-header"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/code_examples/Passticket.html#create-a-feature" class="sidebar-link">Create a Feature</a></li></ul></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/code_examples/Topaz_SDK_snippets.html" class="sidebar-link">Topaz SDK Code Snippets</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="guide-for-passticket-authentication"><a href="#guide-for-passticket-authentication" aria-hidden="true" class="header-anchor">#</a> Guide for PassTicket Authentication</h1> <p>The following topics describe the steps to develop and deploy the extension for PassTicket authentication.</p> <h2 id="creating-your-passticket-extension-project"><a href="#creating-your-passticket-extension-project" aria-hidden="true" class="header-anchor">#</a> Creating your PassTicket Extension Project</h2> <ol><li><p>Open the Project Explorer View</p></li> <li><p>Select the File menu, the New menu item, and the Project... sub-menu.</p></li> <li><p>In the New Project dialog expand Plug-in Development, select Plug-in Project and click the Next button.</p></li> <li><p>On the Plug-in Project panel give your project a name and click the Next button.</p></li> <li><p>On the Content panel you can accept the defaults. The option to make contributions to the UI should be checked. Click the Next button.</p></li> <li><p>On the Templates panel make sure the ‘Create a plug-in using one of the templates’ option is checked. Select the ‘Compuware Topaz Workbench PassTicket credentials provider’ template and click the Next button.</p></li> <li><p>On the next panel specify the name of the Java package which will contain the Java classes used to implement the two interfaces required by this extension. Click the Finish button.</p></li> <li><p>You may get prompted to open the Plug-in Development perspective. This is not required, but you may find it helpful to develop using this perspective.</p></li></ol> <p>An Eclipse plug-in project is created and the Eclipse manifest editor is opened . In the Project Explorer under your project you will see a folder named src. Under the src folder you will see three classes, Activator, PassTicketGenerator, and PassTicketUserProvider. To complete the implementation of the PassTicket Extension you will write Java code for the contents of the PassTickedUserProvider.getUser method and PassTicketGenerator.generate method. The PassTicket extension is activated by Topaz when the user defines a Host Connection using the PassTicket Credential Provider. The getUser method is called by Topaz at the time of login. The user id returned is associated with the HCI connection which triggered the login. This user id is cached and will be used by Topaz throughout the current session without calling the extension again. The PassTicketGenerator.generate method is called by Topaz whenever Topaz has to make a connection to the HCI on behalf of the user. This includes the initial login and other situations where a secondary connection is necessary.</p> <p>Open the PassTicketUserProvider class. You will see the implementation of a single method getUser() which returns null. This method should be changed to return a string representing the z/OS user id of the user running Topaz.</p> <p>Open the PassTicketGenerator class. You will set the implementation of a single method generate which is responsible to generate a PassTicket which will be passed to the HCI to authenticate the user. When the method is called it is given the user id, the host name, and a Java Properties object which contains the port. The user id is the id which was returned from PassTicketUserProvider.getUser() method. The generate method may be called multiple times for each call to the getUser method.
The host name and port identify the HCI which Topaz is about to connect to. The following sites talk about possible ways to generate a PassTicket:</p> <ul><li><a href="https://www.ibm.com/support/knowledgecenter/en/SSLTBW_2.1.0/com.ibm.zos.v2r1.icha300/genpas.htm" target="_blank" rel="noopener noreferrer">https://www.ibm.com/support/knowledgecenter/en/SSLTBW_2.1.0/com.ibm.zos.v2r1.icha300/genpas.htm<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.ibm.com/support/knowledgecenter/en/SSLTBW_2.1.0/com.ibm.zos.v2r1.icha300/algor.htm" target="_blank" rel="noopener noreferrer">https://www.ibm.com/support/knowledgecenter/en/SSLTBW_2.1.0/com.ibm.zos.v2r1.icha300/algor.htm<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h1 id="packaging-your-passticket-extension"><a href="#packaging-your-passticket-extension" aria-hidden="true" class="header-anchor">#</a> Packaging your PassTicket Extension</h1> <p>Developers must package the PassTicket extension plug-in so it can be distributed for installation and use.</p> <h2 id="create-a-feature"><a href="#create-a-feature" aria-hidden="true" class="header-anchor">#</a> Create a Feature</h2> <p>Developers must create a custom feature so that their PassTicket extension plug-in can be included in a p2 repository for installation by users. A feature project can be created from the File-&gt;New menu within the Topaz Workbench, Eclipse, or RDz.</p> <p>Once the custom feature is created:</p> <ol><li>Open the feature.xml file using the Feature Manifest Editor.</li> <li>On the <code>Plug-ins</code> tab of the editor, add the following:
<ol><li>The PassTicket extension plug-in</li> <li>Any other plug-ins or fragments that the PassTicket extension plug-in requires</li></ol></li></ol> <h3 id="export-the-feature-in-a-p2-repository"><a href="#export-the-feature-in-a-p2-repository" aria-hidden="true" class="header-anchor">#</a> Export the Feature in a p2 Repository</h3> <p>Lastly, developers must create a p2 repository that users can point to for installation of the developer’s custom feature. A p2 repository can be created in two different ways:</p> <ol><li>On the <code>Overview</code> tab of the Feature Manifest Editor, click the <code>Export Wizard</code> link under the <code>Exporting</code> section</li> <li>Use the File-&gt;Export... menu and choose <code>Deployable features</code> under the <code>Plug-in Development</code> category</li> <li>On the <code>Deployable features</code> dialog, check the custom feature from the list of features and define the directory to which the p2 repository will be exported to. You can export the p2 repository as either a directory or an archive.</li> <li>Once the p2 repository has been exported, it should be deployed so that all users can point to it and install the custom feature from it.</li></ol></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/code_examples/Topaz_SDK.html" class="prev">
          Topaz SDK
        </a></span> <span class="next"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/code_examples/Topaz_SDK_snippets.html">
          Topaz SDK Code Snippets
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/app.ec1696b9.js" defer></script><script src="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/16.b348e724.js" defer></script>
  </body>
</html>
