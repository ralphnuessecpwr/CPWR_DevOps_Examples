<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JCL skeletons | Mainframe DevOps</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/css/0.styles.c8537b01.css" as="style"><link rel="preload" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/app.ec1696b9.js" as="script"><link rel="preload" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/29.e41f7579.js" as="script"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/10.4dc795ba.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/11.5935f050.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/12.0e2b9aca.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/13.78ae9647.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/14.a029e60a.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/15.ffe0034a.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/16.b348e724.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/17.ebd3ec0b.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/18.a8b355c3.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/19.46164589.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/2.da451cf3.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/20.da3c9874.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/21.461a1ac0.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/22.7e875135.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/23.f7fea76c.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/24.ae7c84bf.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/25.475d2aec.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/26.5e15d442.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/27.270e41aa.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/28.206d73f5.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/3.2a4c636b.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/30.61d12a91.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/31.e2654db9.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/32.be1c41d7.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/33.0efeaca3.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/34.1b4a3f7e.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/35.da69e6e8.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/36.fed52b27.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/37.c121f4e9.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/38.99baad0c.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/39.3dd6385d.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/4.4c65f11a.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/5.f5c5d1fb.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/6.9143e1f5.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/7.3a9c137b.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/8.f2dc9578.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/9.e743477c.js">
    <link rel="stylesheet" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/css/0.styles.c8537b01.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/" class="home-link router-link-active"><img src="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/compuware.png" alt="Mainframe DevOps" class="logo"> <span class="site-name can-hide">Mainframe DevOps</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/" class="nav-link">Home</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/pipelines/" class="nav-link router-link-active">Pipelines</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/tool_configuration/" class="nav-link">Configuration</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/code_examples/" class="nav-link">APIs</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/" class="nav-link">Home</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/pipelines/" class="nav-link router-link-active">Pipelines</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/tool_configuration/" class="nav-link">Configuration</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/code_examples/" class="nav-link">APIs</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/pipelines/" class="sidebar-link">Getting Started</a></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/pipelines/pipelines.html" class="sidebar-link">Example Pipelines</a></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/pipelines/Mainframe_CI_Pipeline_from_Shared_Lib.html" class="sidebar-link">Shared Library Example</a></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/pipelines/Mainframe-CI-Example-pipeline.html" class="sidebar-link">Basic Example</a></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/pipelines/scenario/" class="sidebar-link">ISPW Scenario</a></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/pipelines/scenario/TTT_scenario.html" class="sidebar-link">Total Test User Scenario</a></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/pipelines/pipeline_parameters.html" class="sidebar-link">Pipeline Parameters</a></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/pipelines/config_files.html" class="sidebar-link">Configuration Files</a></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/pipelines/helper_classes/" class="sidebar-link">Helper classes</a></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/pipelines/Jenkins_Groovy.html" class="sidebar-link">Groovy Tips</a></li></ul> </div> <div class="page"> <div class="content"><h2 id="jcl-skeletons"><a href="#jcl-skeletons" aria-hidden="true" class="header-anchor">#</a> JCL Skeletons</h2> <p>JCL skeletons in ISPF allow building mainframe jobs based on user input without the user having to code the complete JCL. They provide templates containing variables. At 'runtime' these variables get substituted by the input provided by the user. This principle is mimicked here.</p> <p>The skeleton JCL in our examples uses strings in brackets '&lt;&gt;' to identify placeholders which get substituted at runtime. Currently, these are fixed names and only these 'variables' can be used to substitute placeholders by concrete values.</p> <p>In total there are three pieces of JCL that get generated during runtime.</p> <h2 id="a-job-card-jobcard-jcl"><a href="#a-job-card-jobcard-jcl" aria-hidden="true" class="header-anchor">#</a> A job card JobCard.jcl</h2> <p>The file <code>JobCard.jcl</code> contains a job card that will be used for jobs that get submitted on the mainframe from the pipeline. This way job that get executed by pipeline automation can be distinguished (and executed under different rights) than the normal &quot;user related&quot; job JCL that gets stored with the Topaz for Total test projects.
The current version of the <code>JobCard.jcl</code> does not provide any pipeline specific variable substitution. Any valid JCL specific variable (e.g. <code>&amp;SYSUID</code>) may still be used.</p> <h2 id="delete-temporary-dataset-deleteds-skel"><a href="#delete-temporary-dataset-deleteds-skel" aria-hidden="true" class="header-anchor">#</a> Delete temporary Dataset deleteDs.skel</h2> <p>The purpose of this JCL is to submit a job that deletes a dataset. In the context of the pipelines this dataset is supposed to be temporary in use (and contains copybook members that need to be downloaded). The skeleton looks like this</p> <div class="language- extra-class"><pre class="language-text"><code>//CLEAN   EXEC PGM=IEFBR14
//DELETE DD DISP=(SHR,DELETE,DELETE),DSN=&lt;clean_dsn&gt;
</code></pre></div><p>The placeholder <code>&lt;clean_dsn&gt;</code> will be replaced by a concrete dataset name during runtime.</p> <h2 id="iebcopy-job-iebcopy-skel"><a href="#iebcopy-job-iebcopy-skel" aria-hidden="true" class="header-anchor">#</a> IEBCOPY job iebcopy.skel</h2> <p>The purpose of this JCL is to copy all members that have been identified a copybooks from the ISPW libraries to a temporary PDS. (These will then be downloaded by the ISPW PDS downloader.) The skeleton looks like this</p> <div class="language- extra-class"><pre class="language-text"><code>//COPY    EXEC PGM=IEBCOPY
//SYSPRINT DD SYSOUT=*
//SYSUT3   DD UNIT=SYSDA,SPACE=(TRK,(10,10))
//SYSUT4   DD UNIT=SYSDA,SPACE=(TRK,(10,10))
&lt;source_copy_pds_list&gt;
//OUT      DD DISP=(,CATLG,DELETE),
//            DSN=&lt;target_dsn&gt;,
//            UNIT=SYSDA,
//            SPACE=(TRK,(10,20,130)),
//            DCB=(RECFM=FB,LRECL=80)
//SYSIN DD *
  COPY OUTDD=OUT
&lt;source_input_dd_list&gt;
&lt;select_list&gt;
</code></pre></div><p>The placeholders are:</p> <ul><li><code>&lt;source_copy_pds_list&gt;</code> will be replaced by a list of <code>//INx</code> DD statements pointing to the copy library concatenation list that is to be used to search the copybooks. The libraries will be concatenated according to the list defined by the next skeleton <code>iebcopyInDd.skel</code>.</li> <li><code>&lt;target_dsn&gt;</code> will be replaced by the temporary PDS to receive the copybook members. The name is taken from variable ``</li> <li><code>&lt;source_input_dd_list&gt;</code> will be replaced by a set of <code>INDD=INx</code> statements for IEBCOPY. The set corresponds with the set of <code>//INx</code> DD statements defined by the <code>iebcopyInDd.skel</code>.</li> <li><code>&lt;select_list&gt;</code> will be replaced by a set of <code>SELECT</code> statements for IEBCOPY. The set is determined from the list of copybook members to be downloaded.</li></ul> <h2 id="list-in-in-dd-statements-iebcopyindd-skel"><a href="#list-in-in-dd-statements-iebcopyindd-skel" aria-hidden="true" class="header-anchor">#</a> List in IN DD statements iebcopyInDd.skel</h2> <p>The purpose of this file is to provide a list of datasets to use a input datasets for the <code>iebcopy.skel</code> JCL. The skeleton looks like this and corresponds with the libraries used to story copybooks in the ISPW environment used for these examples</p> <div class="language- extra-class"><pre class="language-text"><code>//IN1      DD DISP=SHR,DSN=SALESSUP.&lt;ispw_application&gt;.QA&lt;ispw_path&gt;.CPY
//IN2      DD DISP=SHR,DSN=SALESSUP.&lt;ispw_application&gt;.STG.CPY
//IN3      DD DISP=SHR,DSN=SALESSUP.&lt;ispw_application&gt;.PRD.CPY
</code></pre></div><p>The placeholders are:</p> <ul><li><code>&lt;ispw_application&gt;</code> will be replaced by the ISPW application being passed to the pipeline.</li> <li><code>&lt;ispw_path&gt;</code> will be replaced by the path through the life cycle to be used.</li></ul></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/app.ec1696b9.js" defer></script><script src="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/29.e41f7579.js" defer></script>
  </body>
</html>
