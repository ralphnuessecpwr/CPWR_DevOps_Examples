<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CES Webhook Configuration | Mainframe DevOps</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/css/0.styles.c8537b01.css" as="style"><link rel="preload" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/app.ec1696b9.js" as="script"><link rel="preload" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/5.f5c5d1fb.js" as="script"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/10.4dc795ba.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/11.5935f050.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/12.0e2b9aca.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/13.78ae9647.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/14.a029e60a.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/15.ffe0034a.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/16.b348e724.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/17.ebd3ec0b.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/18.a8b355c3.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/19.46164589.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/2.da451cf3.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/20.da3c9874.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/21.461a1ac0.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/22.7e875135.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/23.f7fea76c.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/24.ae7c84bf.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/25.475d2aec.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/26.5e15d442.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/27.270e41aa.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/28.206d73f5.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/29.e41f7579.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/3.2a4c636b.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/30.61d12a91.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/31.e2654db9.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/32.be1c41d7.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/33.0efeaca3.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/34.1b4a3f7e.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/35.da69e6e8.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/36.fed52b27.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/37.c121f4e9.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/38.99baad0c.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/39.3dd6385d.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/4.4c65f11a.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/6.9143e1f5.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/7.3a9c137b.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/8.f2dc9578.js"><link rel="prefetch" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/9.e743477c.js">
    <link rel="stylesheet" href="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/css/0.styles.c8537b01.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/" class="home-link router-link-active"><img src="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/compuware.png" alt="Mainframe DevOps" class="logo"> <span class="site-name can-hide">Mainframe DevOps</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/" class="nav-link">Home</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/pipelines/" class="nav-link">Pipelines</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/tool_configuration/" class="nav-link router-link-active">Configuration</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/code_examples/" class="nav-link">APIs</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/" class="nav-link">Home</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/pipelines/" class="nav-link">Pipelines</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/tool_configuration/" class="nav-link router-link-active">Configuration</a></div><div class="nav-item"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/code_examples/" class="nav-link">APIs</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/tool_configuration/plugins.html" class="sidebar-link">Plugins</a></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/tool_configuration/" class="sidebar-link">Tool Configurations</a></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/tool_configuration/webhook_setup.html" class="active sidebar-link">CES Webhook Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/tool_configuration/webhook_setup.html#webhook-definition-fields" class="sidebar-link">Webhook definition fields</a></li><li class="sidebar-sub-header"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/tool_configuration/webhook_setup.html#in-summary" class="sidebar-link">In summary</a></li></ul></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/tool_configuration/CES_credentials_token.html" class="sidebar-link">CES Personal Access Tokens</a></li><li><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/tool_configuration/Jenkins_config.html" class="sidebar-link">Jenkins Configuration</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="definition-of-a-webhook-used-in-the-examples"><a href="#definition-of-a-webhook-used-in-the-examples" aria-hidden="true" class="header-anchor">#</a> Definition of a webhook used in the examples</h1> <p>To define and register an ISPW webhook in CES go to the CES <strong>Administration</strong> menu</p> <p><img src="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/img/CES_menu.b62d25ba.png" alt="CES Menu"></p> <p>and select <strong>Webhooks</strong></p> <p><img src="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/img/CES_admin_menu_Webhooks.73946964.png" alt="Webhooks page"></p> <p>On the Webhooks page select either <code>add</code> to define a new webhook or <code>edit</code> to modify an existing webhook. The <a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/pipelines/Mainframe_CI_Pipeline_from_Shared_Lib.html">Mainframe_CI_Pipeline_from_Shared_Lib.groovy</a> makes use of the following definitions:</p> <h2 id="webhook-definition-fields"><a href="#webhook-definition-fields" aria-hidden="true" class="header-anchor">#</a> Webhook definition fields</h2> <p><img src="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/img/Webhook_example.703bb44b.png" alt="Webhook example"></p> <h3 id="name"><a href="#name" aria-hidden="true" class="header-anchor">#</a> Name</h3> <p>Name of the webhook, e.g. &quot;FTSDEMO Pipeline&quot;</p> <h3 id="url"><a href="#url" aria-hidden="true" class="header-anchor">#</a> URL</h3> <p>The URL to post the webhook's http request to. In the example pipeline this is:</p> <div class="language- extra-class"><pre class="language-text"><code>    http://sonarqube.nasa.cpwr.corp:8080/job/RNU_FTSDEMO_from_Shared_Lib/buildWithParameters?ISPW_Stream=$$stream$$&amp;ISPW_Application=$$application$$&amp;ISPW_Release=$$release$$&amp;ISPW_Assignment=$$assignment$$&amp;ISPW_Container=$$setID$$&amp;ISPW_Container_Type=2&amp;ISPW_Src_Level=$$level$$&amp;ISPW_Owner=$$owner$$
</code></pre></div><p>where</p> <ul><li><code>sonarqube.nasa.cpwr.corp:8080</code> is the name of Compuware's internal Jenkins server</li> <li><code>RNU_FTSDEMO_from_Shared_Lib</code> is the name of the pipeline job to trigger</li> <li><code>buildWithParameters</code> is required since the pipeline job uses parameters</li></ul> <p>followed by a list of <code>parameter=value</code> pairs. In this list</p> <ul><li>the part left of each <code>=</code> names the parameter name from the pipeline definition</li> <li>the part right of each <code>=</code> is the value to pass to the parameter with <code>$$&lt;parameter-name&gt;$$</code> denoting parameter values passed from ISPW</li> <li><code>&amp;</code> separates two pairs</li></ul> <h3 id="request-method"><a href="#request-method" aria-hidden="true" class="header-anchor">#</a> Request method</h3> <p>Will be <code>POST</code>.</p> <h3 id="request-headers"><a href="#request-headers" aria-hidden="true" class="header-anchor">#</a> Request headers</h3> <p>Depending on the configuration of the Jenkins server you may need addition request headers. Especially if <a href="https://wiki.jenkins.io/display/JENKINS/CSRF+Protection" target="_blank" rel="noopener noreferrer">CSRF Protection<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is activated, you will need an authorization header. Contact your Jenkins administrator for the required value.</p> <h3 id="product"><a href="#product" aria-hidden="true" class="header-anchor">#</a> Product</h3> <p>Will be <code>ISPW</code>.</p> <h3 id="event-criteria"><a href="#event-criteria" aria-hidden="true" class="header-anchor">#</a> Event Criteria</h3> <p>Define the ISPW events that will trigger this webhook.</p> <h4 id="application"><a href="#application" aria-hidden="true" class="header-anchor">#</a> Application</h4> <p>Specify the ISPW application(s) you want to use this webhook for. Roughly 50 entries are allowed.</p> <p>The example uses applications <code>RXN1</code> and <code>RXN3</code>.</p> <h4 id="level"><a href="#level" aria-hidden="true" class="header-anchor">#</a> Level</h4> <p>Specify the life cycle levels you want to use this webhook for. This is dependent on your specific configuration of ISPW.</p> <p>The example uses levels <code>DEV1</code>, <code>DEV2</code>, <code>DEV3</code>, with the life cycle for the applications <code>RXN1</code> and <code>RXN3</code> looking like the following:</p> <p><img src="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/img/Example_life_cycle.54b2d76b.png" alt="Example life cycle"></p> <h4 id="event-name"><a href="#event-name" aria-hidden="true" class="header-anchor">#</a> Event name</h4> <p>One or more events during the operation(s) that trigger the webhook. Events can be:</p> <ul><li><code>Always</code></li> <li><code>Executing</code></li> <li><code>Dispatched</code></li> <li><code>Ready</code></li> <li><code>Closed</code></li> <li><code>Completed</code></li> <li><code>Failed</code></li> <li><code>Terminated</code></li></ul> <p>The example uses <code>Completed</code>.</p> <h3 id="operations"><a href="#operations" aria-hidden="true" class="header-anchor">#</a> Operations</h3> <p>One ore more ISPW operations that will trigger the webhook.</p> <p>The example uses <code>Promote</code>.</p> <h2 id="in-summary"><a href="#in-summary" aria-hidden="true" class="header-anchor">#</a> In summary</h2> <p>Which means in total, that the pipeline job <code>RNU_FTSDEMO_from_Shared_Lib</code> will get triggered whenever a developer has promoted code from levels <code>DEV1</code>, <code>DEV2</code>, or <code>DEV3</code> within ISPW applications <code>RXN1</code>, or <code>RXN2</code> and the promote was successfully completed. The following information will be passed from ISPW to the pipeline job:</p> <ul><li>The ISPW stream name <code>$$stream$$</code> will be passed to pipeline parameter <code>ISPW_Stream</code></li> <li>The ISPW application name <code>$$application$$</code> will be passed to the pipeline parameter <code>ISPW_Application</code></li> <li>The ISPW release name <code>$$release$$</code> will be passed to the pipeline parameter <code>ISPW_Release</code></li> <li>The ISPW assignment name <code>$$assignment$$</code> will be passed to the pipeline parameter <code>ISPW_Assignment</code></li> <li>The ISPW set ID <code>$$setID$$</code> will be passed to the pipeline parameter <code>ISPW_Container</code></li> <li>The value <code>2</code> will be passed to the pipeline parameter <code>ISPW_Container_Type</code> to denote a set ID was passed in the previous parameter</li> <li>The ISPW source level <code>$$level$$</code> (<code>DEV1</code>, <code>DEV2</code>, or <code>DEV3</code>) will be passed to the pipeline parameter <code>ISPW_Src_Level</code></li> <li>The ISPW user executing the promotion <code>$$owner$$</code> will be passed to the pipeline parameter <code>ISPW_Owner</code></li></ul></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/tool_configuration/" class="prev router-link-active">
          Tool Configurations
        </a></span> <span class="next"><a href="/https:/ralphnuessecpwr.github.io/CPWR_DevOps_Examples/tool_configuration/CES_credentials_token.html">
          CES Personal Access Tokens
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/app.ec1696b9.js" defer></script><script src="https://ralphnuessecpwr.github.io/CPWR_DevOps_Examples/assets/js/5.f5c5d1fb.js" defer></script>
  </body>
</html>
